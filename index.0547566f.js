const t={searchForm:document.querySelector(".js-search"),addBtn:document.querySelector(".js-add"),listEl:document.querySelector(".js-list"),formContainer:document.querySelector(".form-container")};t.addBtn.addEventListener("click",(function(e){t.formContainer.insertAdjacentHTML("beforeend",'<input type="text" name="country">')})),t.searchForm.addEventListener("submit",(function(t){t.preventDefault();const e=new FormData(t.currentTarget).getAll("country");(async function(t){const e=t.map((async t=>{const e=await fetch(`https://restcountries.com/v3.1/name/${t}`);if(!e.ok)throw new Error("");return e.json()})),n=await Promise.allSettled(e);return n.filter((({status:t})=>"fulfilled"===t)).flatMap((({value:t})=>t))})(e.filter((t=>t)).map((t=>t.replace(/ /g,"")))).then((async t=>{const e=t.map((({capital:t})=>t[0])),n=await async function(t){const e="http://api.weatherapi.com/v1",n="de3d646b80f44831adc131731240809",r=t.map((async t=>{const r=new URLSearchParams({key:n,q:t,lang:"uk"}),a=await fetch(`${e}//current.json?${r}`);if(!a.ok)throw new Error(a.statusText);return a.json()})),a=await Promise.allSettled(r);return a.filter((({status:t})=>"fulfilled"===t)).map((({value:t})=>t.current))}(e);console.log(n)})).catch((t=>console.log(t)))}));
//# sourceMappingURL=index.0547566f.js.map
